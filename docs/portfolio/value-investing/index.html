<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <title>Automated Value Investing Tool</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="A Python engine that automates fundamental analysis of S&amp;P 500 stocks using Benjamin Graham&#39;s principles."
  />
  
    <meta name="author" content="Alexis Ribat" />
  

  <!-- plugins -->
  
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.0/css/hover-min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700,900&amp;display=swap" />
  
    <link rel="stylesheet" href="https://alexis-ribat.github.io/mon-portfolio-bi/plugins/text-animation/text-animation.css" />
  
    <link rel="stylesheet" href="https://alexis-ribat.github.io/mon-portfolio-bi/plugins/hugrid/hugrid.css" />
  
    <link rel="stylesheet" href="https://alexis-ribat.github.io/mon-portfolio-bi/css/custom.css" />
  

  <!-- Main Stylesheet -->

  
  <link rel="stylesheet" href="https://alexis-ribat.github.io/mon-portfolio-bi/css/style.css" media="screen" />

  <!--Favicon-->

  
    <link rel="icon" type="image/png" href="images/favicon.png" />
  
  
</head>
<body> <!-- preloader start -->
<div class="preloader">
  
  <img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/preloader.gif" alt="preloader" />
  
</div>
<!-- preloader end --> 

  <section class="menu menu-fix" id="menu">
  <nav>
    
    <div class="menu-container">
      <div class="desktop-menu-logo">
        <a href="https://alexis-ribat.github.io/mon-portfolio-bi/"
          ><img
            class="img-fluid"
            src="https://alexis-ribat.github.io/mon-portfolio-bi/"
            alt="Ribat | BI"
            id="desktop-logo"
        /></a>
      </div>
      <ul class="desktop-menu list-inline mb-0" id="desktop-menu">
        
        <li class="menu-item hvr-underline-from-left 1">
          <a href="#home">Home</a>
        </li>
        
        <li class="menu-item hvr-underline-from-left 2">
          <a href="#about">About me</a>
        </li>
        
        <li class="menu-item hvr-underline-from-left 3">
          <a href="#experience">Experience</a>
        </li>
        
        <li class="menu-item hvr-underline-from-left 4">
          <a href="#skill">Skills</a>
        </li>
        
        <li class="menu-item hvr-underline-from-left 5">
          <a href="#portfolio">Portfolio</a>
        </li>
        
        <li class="menu-item hvr-underline-from-left 6">
          <a href="#contact">Contact</a>
        </li>
        
      </ul>
      
      <div class="mobile-menu">
        <div class="mobile-menu-nav">
          <a class="menu-link">
            <span></span>
            <span></span>
            <span></span>
          </a>
        </div>
        <div class="mobile-menu-logo">
          <a href="https://alexis-ribat.github.io/mon-portfolio-bi/"
            ><img
              class="img-fluid"
              src="https://alexis-ribat.github.io/mon-portfolio-bi/"
              alt="Ribat | BI"
          /></a>
        </div>
        <div class="menu-slider">
          <nav>
            <ul class="mobile-menu-list">
              
              <li class="mobile-menu-item 1 mx-auto">
                <a href="#home">Home</a>
              </li>
              
              <li class="mobile-menu-item 1 mx-auto">
                <a href="#about">About me</a>
              </li>
              
              <li class="mobile-menu-item 1 mx-auto">
                <a href="#experience">Experience</a>
              </li>
              
              <li class="mobile-menu-item 1 mx-auto">
                <a href="#skill">Skills</a>
              </li>
              
              <li class="mobile-menu-item 1 mx-auto">
                <a href="#portfolio">Portfolio</a>
              </li>
              
              <li class="mobile-menu-item 1 mx-auto">
                <a href="#contact">Contact</a>
              </li>
              
            </ul>
            <ul class="mobile-menu-icons list-inline mx-auto">
              
              <li>
                <a href="https://www.linkedin.com/in/votre-profil"
                  ><i class="fab fab fa-linkedin fa-2x"></i
                ></a>
              </li>
              
              <li>
                <a href="mailto:votre-email@gmail.com"
                  ><i class="fab fas fa-envelope fa-2x"></i
                ></a>
              </li>
              
              <li>
                <a href="https://github.com/Alexis-Ribat"
                  ><i class="fab fab fa-github fa-2x"></i
                ></a>
              </li>
              
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </nav>
</section>


  <div class="under-menu col-lg-8 col-md-10 col-12 mx-auto post-container">
    <h1>Automated Value Investing Tool</h1>
    <span class="date">Posted on: 12/15/2025</span>
    <img src="images/System-Architecture.png" alt="Automated Value Investing Tool" />
    <div class="body">
      <h2 id="project-overview">Project Overview</h2>
<h3 id="the-context--challenge">The Context &amp; Challenge</h3>
<p>While there is no shortage of commercial stock screeners, I found them lacking in transparency and flexibility. I needed a tailored solution that would allow me to:</p>
<ul>
<li><strong>Customize dashboards</strong> based on my specific Value Investing criteria.</li>
<li><strong>Audit the calculations</strong> of key performance indicators (ROE, ROCE, Free Cash Flow) to ensure they match my valuation models.</li>
<li><strong>Automate qualitative analysis</strong> using my own predefined AI prompts to mimic a specific investor persona.</li>
</ul>
<h3 id="the-solution">The Solution</h3>
<p>To address this, I built the <strong>Value Investing Dashboard</strong>, a self-hosted financial analysis platform designed to automate fundamental stock research.</p>
<p>The system aggregates real-time market data from <strong>Yahoo Finance</strong> and mines deep historical financial statements directly from the <strong>SEC (EDGAR)</strong> database.</p>
<p>Built on a hybrid <strong>Python/Rust</strong> architecture and containerized with <strong>Docker</strong>, the application features a <strong>Streamlit</strong> interface for interactive valuation (DCF, Piotroski F-Score) and integrates <strong>Google Gemini AI</strong> to generate comprehensive, Buffett-style investment theses.</p>
<p><strong>The Goal:</strong> Build a fully automated pipeline to screen 500+ stocks daily with full transparency on data and logic.</p>
<h3 id="data-strategy-why-yahoo-finance">Data Strategy: Why Yahoo Finance?</h3>
<p>I deliberately chose <strong>Yahoo Finance</strong> as the primary data source for three strategic reasons:</p>
<ul>
<li><strong>Cost-Efficiency:</strong> It offers a robust, free access to financial data, allowing the project to scale without incurring high API subscription costs.</li>
<li><strong>Scalability:</strong> It covers a massive universe of global companies, not just the US market, allowing for broad screenings.</li>
<li><strong>Stability &amp; Low Maintenance:</strong> The API structure is highly stable compared to web scraping. This ensures the pipeline remains reliable over time with minimal maintenance required on the codebase.</li>
</ul>
<h3 id="ai-power-gemini-pro--api-optimization">AI Power: Gemini Pro &amp; API Optimization</h3>
<p>To go beyond simple numbers, I integrated <strong>Google Gemini Pro</strong> to perform automated qualitative analysis (sentiment analysis, risk assessment, and earnings call summarization).</p>
<ul>
<li><strong>The Challenge:</strong> The API imposes strict daily rate limits (approx. 20 requests/day), which created a bottleneck for processing 500+ stocks.</li>
<li><strong>The Engineering Solution (Key Rotation):</strong> I implemented a <strong>Smart Failover System</strong>. The Python script manages a pool of multiple API keys. When a key reaches its token limit (Error 429), the algorithm automatically catches the exception and switches to the next available key instantly.</li>
</ul>
<p><strong>Code Highlight: The Python Key Rotation</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">ask_gemini</span>(prompt, api_keys):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> key <span style="color:#f92672">in</span> api_keys:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            configure_genai(key)
</span></span><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>generate_content(prompt)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> response<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span> ResourceExhausted:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Key </span><span style="color:#e6db74">{</span>key[:<span style="color:#ae81ff">5</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">... exhausted. Switching to next key.&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">Exception</span>(<span style="color:#e6db74">&#34;All API keys exhausted.&#34;</span>)
</span></span></code></pre></div><h3 id="infrastructure--deployment-nas">Infrastructure &amp; Deployment (NAS)</h3>
<p>To ensure industrial-grade reliability, the entire pipeline is hosted on a <strong>Synology NAS</strong> (Network Attached Storage).</p>
<ul>
<li><strong>24/7 Automation:</strong> The script is containerized and triggered automatically every morning via <strong>Cron jobs</strong>, running independently of my personal workstation.</li>
<li><strong>Data Persistence:</strong> Historical financial data is stored locally with <strong>RAID redundancy</strong>, ensuring data safety and preventing data gaps.</li>
</ul>
<hr>
<h2 id="technical-architecture">Technical Architecture</h2>
<p>I designed a modular ETL (Extract, Transform, Load) architecture:</p>
<ol>
<li><strong>Extract:</strong> Python scripts request data via the <strong>Yahoo Finance API</strong> &amp; <strong>SEC Data</strong>.</li>
<li><strong>Transform:</strong> Data cleaning with <strong>Pandas</strong>.</li>
<li><strong>Load:</strong> Export results to <strong>Excel</strong> and <strong>JSON</strong> for the web dashboard.</li>
</ol>
<p><strong>System Architecture:</strong></p>
<p><img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/System-Architecture.png" alt="System Architecture"></p>
<hr>
<h1 id="the-tech-stack-a-hybrid-python-rust-architecture">The Tech Stack: A Hybrid Python-Rust Architecture</h1>
<p>Building a financial analysis tool requires a balance between rapid prototyping for data science and raw performance for data ingestion. To achieve this, I designed a hybrid architecture that leverages the strengths of Python for logic and UI, and Rust for heavy computational tasks.</p>
<p>Here is a deep dive into the technologies powering the Value Investing Dashboard.</p>
<ol>
<li>Application Layer: Python &amp; Streamlit
The core of the application is built on Python 3.11, the lingua franca of financial data analysis.</li>
</ol>
<p>Frontend Framework: I chose Streamlit for its ability to turn data scripts into shareable web apps in minutes. It allows me to focus on financial modeling rather than CSS or JavaScript.</p>
<p>Data Processing: Pandas and NumPy handle the vectorization of financial metrics (ROCE, CAGR, DCF modeling).</p>
<p>Visualization: Plotly provides interactive charts (gauges, time-series) that allow users to zoom into specific financial periods.</p>
<p>Data Sources: yfinance is used for real-time market data (prices, basic financials), acting as the first layer of the ETL pipeline.</p>
<ol start="2">
<li>The Performance Engine: Rust
Fetching and parsing gigabytes of institutional filings (10-K, 10-Q) from the SEC EDGAR database is CPU-intensive. Python struggled with latency here, so I offloaded this specific workload to Rust.</li>
</ol>
<p>Custom Binary (edgar_fetcher): A standalone CLI tool written in Rust.</p>
<p>Concurrency: Leverages reqwest (async HTTP client) and tokio to handle network requests significantly faster than Python’s requests.</p>
<p>Type Safety: Uses serde for lightning-fast JSON serialization/deserialization, ensuring data integrity before it even reaches the Python layer.</p>
<p>Integration: The Python backend orchestrates the Rust binary via subprocess calls, creating a seamless bridge between the two languages.</p>
<ol start="3">
<li>Artificial Intelligence: Google Gemini
To automate the qualitative analysis (the &ldquo;Warren Buffett&rdquo; perspective), the system integrates Large Language Models (LLM).</li>
</ol>
<p>Model: Google Gemini 1.5 Flash. Chosen for its large context window (essential for reading long financial transcripts) and low latency.</p>
<p>Prompt Engineering: I implemented a rigorous &ldquo;Persona-based&rdquo; prompting strategy. The system injects raw financial tables (computed in Python) into the prompt context, forcing the AI to ground its analysis in hard data rather than hallucinations.</p>
<p>Sentiment Analysis: The system scrapes news via BeautifulSoup and feeds headlines to the LLM to gauge market sentiment (Bullish/Bearish).</p>
<ol start="4">
<li>Persistence: PostgreSQL &amp; SQLAlchemy
Financial data requires strict structure and integrity.</li>
</ol>
<p>Database: PostgreSQL 15. It stores historical financial data, caching it to avoid hitting API rate limits. It also serves as the archive for every AI-generated report.</p>
<p>ORM: SQLAlchemy. It abstracts the SQL complexity, allowing me to manipulate database records using Python classes and objects.</p>
<p>Management: Adminer. A lightweight database management tool running in a sidecar container, allowing for quick manual inspection and SQL queries via a web interface.</p>
<ol start="5">
<li>Infrastructure: Docker &amp; Synology NAS
The entire stack is designed to be &ldquo;Write Once, Run Anywhere&rdquo; (specifically, on a home server).</li>
</ol>
<p>Containerization: A multi-stage Dockerfile handles the complexity of the hybrid build. It first compiles the Rust binary (using a Rust image), then copies the executable into a slim Python image. This results in a single, lightweight image containing both the Python app and the Rust engine.</p>
<p>Orchestration: Docker Compose defines the services (dashboard, db, adminer), networks, and persistent volumes.</p>
<p>Hardware: The stack runs 24/7 on a Synology NAS, providing a private, self-hosted environment without cloud subscription costs.</p>
<p><strong>Code Highlight: The Python-Rust Bridge</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># src/sec_provider.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> subprocess
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_sec_data_rust</span>(ticker):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Orchestrates the high-performance Rust binary from Python.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    It calls the compiled binary directly for max speed.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    binary_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/usr/local/bin/edgar_fetcher&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Execute the Rust binary as a subprocess</span>
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> subprocess<span style="color:#f92672">.</span>run([binary_path, ticker], capture_output<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Parse the JSON output from Rust</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> json<span style="color:#f92672">.</span>loads(result<span style="color:#f92672">.</span>stdout)
</span></span></code></pre></div><h2 id="functional-overview-from-ticker-to-investment-thesis">Functional Overview: From Ticker to Investment Thesis</h2>
<p>The Value Investing Dashboard is designed to replicate the workflow of a professional equity analyst, automating the tedious data gathering process to focus on decision-making.</p>
<p>Here is a breakdown of the application&rsquo;s core capabilities.</p>
<ol>
<li>Smart Search &amp; Entity Resolution
The journey begins with a universal search bar.</li>
</ol>
<p>Fuzzy Matching: Users can input a ticker symbol (AAPL) or a company name (Louis Vuitton).</p>
<p>AI Fallback: If the exact ticker isn&rsquo;t found in the standard database, the system queries the AI engine to resolve the correct symbol automatically, preventing &ldquo;Ticker not found&rdquo; errors.</p>
<p><strong>Smart Search using IA:</strong>
<img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/search-example.png" alt="search-example"></p>
<p>Favorites: A sidebar offers quick access to a curated list of high-quality companies (Apple, LVMH, Novo Nordisk) for instant analysis.</p>
<ol start="2">
<li>The &ldquo;Health Check&rdquo; Dashboard
Upon selection, the application instantly computes a financial health scorecard based on Value Investing principles:</li>
</ol>
<p>Key Metrics: Real-time display of P/E Ratio, ROCE (Return on Capital Employed), and Debt/EBIT leverage ratios.</p>
<p>Piotroski F-Score: An automated 0-9 scoring system that analyzes profitability, leverage, and operating efficiency trends to detect improving or deteriorating business fundamentals.</p>
<p>Company Profile: A strategic summary of the business, its sector, and its &ldquo;Moat&rdquo; (competitive advantage), translated and synthesized by AI.</p>
<ol start="3">
<li>Interactive Valuation Sandbox (DCF)
Unlike static financial websites, the dashboard features a dynamic Discounted Cash Flow (DCF) calculator.</li>
</ol>
<p>Scenario Testing: Users can adjust key assumptions—Growth Rate, WACC (Discount Rate), and Terminal Growth—using interactive sliders.</p>
<p>Fair Value Gauge: A visual gauge updates in real-time, showing the intrinsic value vs. the current stock price.</p>
<p>Reverse DCF: The system calculates the &ldquo;Implied Growth Rate,&rdquo; answering the critical question: &ldquo;What growth is the market currently pricing in?&rdquo;.</p>
<ol start="4">
<li>Deep Dive Financials (Powered by Rust)
For granular analysis, the application provides raw, unaltered financial data sourced directly from SEC filings via the high-performance Rust engine.</li>
</ol>
<p>SBC Adjustment: It calculates &ldquo;True Free Cash Flow&rdquo; by adjusting for Stock-Based Compensation (SBC), a crucial metric often hidden in standard reports.</p>
<p>Visual Trends: Interactive Plotly charts visualize the correlation between Revenue, Net Income, and Free Cash Flow over the last 5-10 years.</p>
<ol start="5">
<li>AI Analyst &amp; Sentiment Scoring
The application integrates Google Gemini to act as a virtual research assistant.</li>
</ol>
<p>Sentiment Analysis: The system scrapes recent news (via Google News) or processes earnings call transcripts to determine the current market sentiment (Bullish/Bearish).</p>
<p>Investment Thesis Generation: By clicking &ldquo;Generate Report,&rdquo; the AI consumes all financial data and writes a comprehensive Markdown report. It follows a strict &ldquo;Value Investor&rdquo; persona structure defined in prompt.txt:</p>
<p>Business Model: How does it make money?</p>
<p>Moat Analysis: Is the competitive advantage durable?</p>
<p>Capital Allocation: Is management shareholder-friendly?</p>
<p>Risks: What could kill the business?</p>
<ol start="6">
<li>Archiving &amp; Knowledge Base
Analysis is never lost.</li>
</ol>
<p>Auto-Save: Every generated AI report is automatically time-stamped and saved into the PostgreSQL database.</p>
<p>History: Users can revisit previous analyses to track how their thesis (and the company&rsquo;s fundamentals) has evolved over time.</p>
<p><img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/Visual-trends-1.png" alt="Revenue Trends">
<img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/Visual-trends-2.png" alt="FCF Trends"></p>
<h3 id="3-detailed-financial-data-sec--yahoo">3. Detailed Financial Data (SEC &amp; Yahoo)</h3>
<p>Automatic extraction of key financial statements.</p>
<p><strong>Official SEC Data:</strong>
<img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/SEC-data-1.png" alt="SEC Data Table">
<img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/value-investing-screen.png" alt="Efficiency Ratios"></p>
<p><strong>Yahoo Finance Data Source:</strong>
<img src="https://alexis-ribat.github.io/mon-portfolio-bi/images/yahoo-data.png" alt="Yahoo Data"></p>
<h3 id="4-owner-earnings-calculation">4. Owner Earnings Calculation</h3>
<p>Implementing Warren Buffett&rsquo;s approach to real valuation.</p>

    </div>
  </div>

  <div class="footer container text-center" id="contact">
  <ul class="footer-icons list-inline">
    
      <li>
        <a href="https://www.linkedin.com/in/votre-profil" target="_blank" rel="noreferrer"
          ><i class="fab fa-linkedin footer-icon fa-3x" aria-label=""></i
        ></a>
      </li>
    
      <li>
        <a href="mailto:votre-email@gmail.com" target="_blank" rel="noreferrer"
          ><i class="fas fa-envelope footer-icon fa-3x" aria-label=""></i
        ></a>
      </li>
    
      <li>
        <a href="https://github.com/Alexis-Ribat" target="_blank" rel="noreferrer"
          ><i class="fab fa-github footer-icon fa-3x" aria-label=""></i
        ></a>
      </li>
    
  </ul>
  <div class="credit">
    Copyright Alexis Ribat ©
    <span id="current-year"></span>
  </div>
</div>

<!-- JS Plugins --> 
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.js"></script>

<script src="https://alexis-ribat.github.io/mon-portfolio-bi/plugins/text-animation/text-animation.js"></script>

<script src="https://alexis-ribat.github.io/mon-portfolio-bi/plugins/hugrid/.min.js"></script>
 <!-- Main Scripts --> 
<script src="https://alexis-ribat.github.io/mon-portfolio-bi/js/script.min.js"></script>

<script src="https://alexis-ribat.github.io/mon-portfolio-bi/js/hugrid.custom.min.js"></script>
</body>
</html>
